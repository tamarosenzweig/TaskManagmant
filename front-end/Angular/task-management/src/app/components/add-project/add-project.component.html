<mat-card class="container">
  <div class="row">
    <div class="thumbur">
      <div class="icon-lock"></div>
    </div>
    <div *ngIf="projectFormGroup">
      <h2>Add a new project
        <small>our company is expanding!</small>
      </h2>
      <hr class="colorgraph">
      <mat-card-content>
        <form [formGroup]="projectFormGroup" (ngSubmit)="onSubmit()">

          <div class="row">
            <div class="col-md-6">
              <!-- projectName -->
              <app-input [formControl]="projectName" [placeholder]="'Project name'" ngDefaultControl></app-input>

              <!-- customerId -->
              <app-select [list]="customers" [key]="'customerId'" [value]="'customerName'" [formControl]="customerId" [placeholder]="'Customer'"
                ngDefaultControl></app-select>

              <!-- teamLeaderId -->
              <app-select [list]="teamLeaders" [key]="'userId'" [value]="'userName'" [formControl]="teamLeaderId" [placeholder]="'Team leader'"
                (onChangeEvent)="onTeamLeaderChange()" ngDefaultControl></app-select>

              <!-- permissions -->
              <app-select-workers *ngIf="extraWorkers" [workers]="extraWorkers" [title]="'Add permission to extra workers:'" (selectedWorkerEvent)="getSelectedWorkers($event)"></app-select-workers>
            </div>
            <div class="col-md-6">
                <!-- departmentsHours -->
                <label class="group">Enter hours to every department: </label>
                <div *ngIf="departments" formGroupName="totalHours">
                  <app-input *ngFor="let department of departments" [formControl]="totalHours.controls[department.departmentName]" [type]="'number'"
                    [placeholder]="department.departmentName" [min]="0" ngDefaultControl ></app-input>
                </div>
    
                <!-- totalHours -->
                <label class="group">Total hours: {{getTotalHours()}}</label>
              </div>
          </div>




      


          <div class="row">
            <!-- startDate -->
            <app-date-picker [date]="startDate" [placeholder]="'Start date'" class="col-md-6"></app-date-picker>

            <!-- endDate -->
            <app-date-picker [date]="endDate" [placeholder]="'End date'" class="col-md-6"></app-date-picker>
          </div>

          <hr class="colorgraph">

          <div class="col-xs-6 col-md-6">
            <button type="submit" class="button col-md-offset-2 col-md-8" [disabled]="projectFormGroup.invalid">Save</button>
          </div>

        </form>
      </mat-card-content>
    </div>
  </div>
</mat-card>